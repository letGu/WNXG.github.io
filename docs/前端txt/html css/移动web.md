# 移动 Web

---

## 移动端特点

- 区别：
  - PC 屏幕大，网页固定版心
  - 手机屏幕小， 网页宽度多数为 100%

---

### 分辨率

- 分辨率分类 
  - 物理分辨率是生产屏幕时就固定的，它是不可被改变的 
  - 逻辑分辨率是由软件（驱动）决定的
- 制作网页参考物理分辨率还是逻辑分辨率？ **逻辑分辨率**
- 移动端主流设备分辨率：
  - iPhone6/7/8
  - 物理分辨率:750*1334
  - 逻辑分辨率:375*667
  - 比例关系：2:1

---

### 视口

- 使用meta标签设置视口宽度，制作适配不同设备宽度的网页

  - 手机屏幕尺寸都不同， 网页宽度为100%
  - **网页的宽度和逻辑分辨率尺寸相同**

- 默认情况下，网页的宽度和逻辑分辨率不同， 默认网页宽度是980px。

- 目标：网页宽度和设备宽度(分辨率)相同。 

- 解决办法：添加视口标签。 

- 视口：显示HTML网页的区域，用来约束HTML尺寸

  

```html
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
```

- viewport：视口 
- width=device-width：视口宽度 = 设备宽度 
- initial-scale=1.0：缩放1倍（不缩放



---

### 二倍图

- 使用像素大厨软件测量二倍图中元素的尺寸	选择2X

- 现阶段设计稿参考iPhone6/7/8，设备宽度375px产出设计稿。 
- 二倍图设计稿尺寸：750px。

---

**百分比布局**

- 百分比布局， 也叫流式布局 
- 效果： 宽度自适应，高度固定

---



## Flex 布局

- Flex 布局/弹性布局：
  - 是一种浏览器提倡的布局模型
  - 布局网页更简单、灵活
  - 避免浮动脱标的问题

---

### Flex 布局模型构成

- 作用 
  - 基于 Flex 精确灵活控制块级盒子的布局方式，避免浮动布局中脱离文档流现象发生。 
  - Flex布局非常适合结构化布局 
- 设置方式 
  - 父元素添加 display: flex，子元素可以自动的挤压或拉伸 
- 组成部分 
  - 弹性容器 
  - 弹性盒子 
  - **主轴** 
  - **侧轴 / 交叉轴**

---

### 主轴对齐方式

- 网页中，盒子之间有距离
- 在Flex布局模型中，调节主轴或侧轴的对齐方式来设置盒子之间的间距。
- 使用justify-content调节元素在主轴的对齐方式
- 修改主轴对齐方式属性: justify-content

| 属性值        | 作用                                                 |
| ------------- | ---------------------------------------------------- |
| flex-start    | 默认值，起点开始依次排列                             |
| flex-end      | 终点开始依次排列                                     |
| center        | 沿主轴居中对齐                                       |
| space-around  | 弹性盒子沿主轴均匀排列，空白间距均分在弹性盒子两侧   |
| space-between | 弹性盒子沿主轴均匀排列，空白间距均分在相邻盒子之间   |
| space-evently | 弹性盒子沿主轴均匀排列，弹性盒子与容器之间的间距相等 |



---

### 侧轴对齐方式

- 使用align-items调节元素在侧轴的对齐方式
- 修改侧轴对齐方式属性: 
  - align-items（添加到弹性容器） 
  - align-self： 控制某个弹性盒子在侧轴的对齐方式（添加到弹性盒子）

| 属性值     | 作用                                             |
| ---------- | ------------------------------------------------ |
| flex-start | 默认值，起点开始依次排列                         |
| flex-end   | 终点开始依次排列                                 |
| center     | 沿侧轴居中对齐                                   |
| stretch    | **默认值**，弹性盒子沿主轴线被**拉伸**至铺满容器 |



**伸缩比**

- 使用flex属性修改弹性盒子伸缩比
- 属性 
  - flex : 值;
- 取值分类 
  - 数值(整数) 
- 注意 : 只占用父盒子剩余尺寸

---

### 主轴方向

- 使用**flex-direction**改变元素排列方向
- Flex布局模型中，弹性盒子默认沿**水平方向**排列
  - 主轴默认是水平方向, 侧轴默认是垂直方向 
  - 修改主轴方向属性: flex-direction

| 属性值         | 作用               |
| -------------- | ------------------ |
| row            | 行，水平（默认值） |
| column         | 列，垂直           |
| row-reverse    | 行，从右向左       |
| column-reverse | 列，从下向上       |



---

### 弹性盒子换行

> 使用flex-wrap实现弹性盒子多行排列效果

- 弹性盒子换行显示 : flex-wrap: wrap; 
  - **给父级添加**
- 调整行对齐方式 ：align-content 
  - 取值与justify-content基本相同

---

## 移动适配

- 自适应大小
- rem ： 目前多数企业在用的解决方案 
- vw / vh：未来的解决方案

---

### rem 移动适配

 使用rem单位设置网页元素的尺寸

> - rem单位 
>   - 相对单位 
>
> - rem单位是相对于**HTML标签的字号**计算结果
>
> **1rem = 1HTML字号大小**

- 网页效果 
  - 屏幕**宽度**不同，网页元素**尺寸不同**（**等比缩放**） 
- px单位或百分比布局可以实现吗？ 
  - px单位是绝对单位 
  - 百分比布局特点宽度自适应，高度固定 
- 适配方案
  - rem 
  - vw / vh

---

#### 媒体查询

> 使用媒体查询设置差异化CSS样式

- 媒体查询能够检测视口的宽度，然后编写差异化的 CSS 样式
- 当某个条件成立, 执行对应的CSS样式

``` html
@media(媒体特性) {			@media(width:320px) {
	选择器 {					html{
		CSS属性					font-size:32px;	
    }							}
}                           }
```

- 目前rem布局方案中，将网页等分成10份， HTML标签的字号为视口宽度的 1/10

---

#### rem适配原理

- **实现在不同宽度的设备中**，网页元素尺寸**等比缩放**效果
- rem单位尺寸 
  -  根据视口宽度，设置不同的HTML标签字号 
  - 书写代码，尺寸是rem单位 
    - 确定设计稿**对应**的设备的**HTML标签字号** 
      - 查看**设计稿宽度** → 确定参考**设备宽度**(视口宽度) → 确定**基准根字号**（1/10视口宽度） 
    - rem单位的尺寸 
      - N * 37.5 = 68 → N = 68 / 37.5
      -  rem单位的尺寸 = **px单位数值 / 基准根字号**

---

### flexible

> ：使用flexible js配合rem实现在**不同宽度**的设备中，网页元素尺寸**等比缩放**效果

- flexible.js是手淘开发出的一个用来适配移动端的js框架。 
- 核心原理就是根据不同的视口宽度给网页中html根节点设置不同的font-size

```js
<scrpit src="./js/flexible.js"></script>
```

---

## Less

> 使用Less语法快速编译生成CSS代码

-  Less是一个CSS预处理器, Less文件后缀是.less 
- 扩充了 CSS 语言, 使 CSS 具备一定的逻辑性、计算能力。 
- 注意：浏览器不识别Less代码，目前阶段，网页要引入对应的CSS文件

**Easy Less :** 

- vscode插件 
- 作用：less文件保存自动生成css文件

**注释：** 

- 单行注释 
  - 语法：// 注释内容 
  - 快捷键：ctrl + / 
- 块注释 
  -  语法：/* 注释内容 */ 
  - 快捷键： shift + alt + A

**运算：** 

-  加、减、乘直接书写计算表达式 
- 除法需要添加 小括号 或 .
- 注意： **表达式存在多个单位以第一个单位为准**

```less
.box {
    weidth:(100 / 4px);
    height:(100 ./ 4px);
}
```

> 使用Less嵌套写法生成后代选择器

嵌套： 

- 作用：快速生成后代选择器。
- 语法：

```less
.父级选择器 {
    //父级样式
	.子级选择器 {
		//子级样式
	}	   
}    
```

- 注意：&**不**生成后代选择器，表示**当前选择器**，通常配合**伪类或伪元素**使用

```less
.father {
    color:pink;
    &:hover {			//.father:hover 
        color:green;	
    }
}
```

>  使用Less变量设置属性值

- 把颜色提前存储到一个容器，设置属性值为这个容器名 l
- 变量：存储数据，方便使用和修改。

- 语法： 
  - 定义变量：@变量名: 值; 
  - 使用变量：CSS属性：@变量名;

```less
//1.定义
@pink : pink;

//2.使用
.box {
    color:@pink;
}
```

> 使用Less导入写法引用其他Less文件

- CSS：书写link标签 引入公共样式
- Less：import导入
- 导入: @import “文件路径”;

```less
//如果是less文件，可以省略后缀.less
@import 'base.less';
@import '01-体验less'
```

> 使用Less语法导出CSS文件

- 方法一： 
  - 配置EasyLess插件， 实现所有Less有相同的导出路径 
-  配置插件： 
  - 设置 → 搜索EasyLess → 在setting.json中编辑 → 添加代码（注意，必须是双引号）

- 控制当前Less文件导出路径 
  - Less文件**第一行**添加如下代码, **注意文件夹名称后面添加** /

```less
//out: ./css/
或者
//out: ./css/common.css
```

- 禁止导出 
  - 在less**文件第一行添加**: **// out: false**

---



